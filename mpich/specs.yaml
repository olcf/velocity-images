versions:
  - spec:
      - 3.4.3
      - 4.3.0
dependencies:
  - spec: ubuntu
    when: distro=ubuntu
  - spec: opensuse
    when: distro=opensuse
  - spec: rockylinux
    when: distro=rockylinux
  - spec: gcc
  - spec: rocm
    when: rocm
    scope: build
  - spec: llvm
    when: llvm
    scope: build
  - spec: ucx
    when: ucx
    scope: build
variables:
  - name: prefix
    value: "/opt"
  - name: rocm_flags
    value: '--with-hip=/opt/rocm-{{ __rocm__version__ }}/hip'
    when: rocm
    scope: build
  - name: netmod
    value: ofi
  - name: netmod
    value: ucx
    when: ucx
    scope: build
