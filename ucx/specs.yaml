versions:
  - spec:
      - 1.14.0
dependencies:
  - spec: opensuse
    when: distro=opensuse
  - spec: rockylinux
    when: distro=rockylinux
  - spec: ubuntu
    when: distro=ubuntu
  - spec: gcc
  #- spec: knem
variables:
  - name: prefix
    value: "/opt"
  - name: ubuntu_packages
    value: >-
      wget
      gcc
      g++
      gfortran
      libnuma-dev
      librdmacm-dev
  - name: build_options
    # --enable-compiler-opt=3
    value: >-
      --enable-numa
      --enable-cma
      --enable-shared
      --enable-static
      --with-pic
      --with-dc
      --with-dm
      --with-ib-hw-tm
      --without-knem
      --with-rc
      --with-ud
      --without-xpmem
      --with-mlx5-dv
      --with-rdmacm
      --with-verbs
      --with-avx
      --with-sse42
      --disable-assertions
      --disable-doxygen-doc
      --disable-gtest
      --disable-logging
      --disable-mt
      --disable-optimizations
      --disable-params-check
      --without-bfd
      --without-cuda
      --without-fuse3
      --without-gdrcopy
      --without-go
      --without-java
      --without-rocm
